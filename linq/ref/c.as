global	_visitSymbols
global	ncsv, cret, indir
global	_symCnt
global	_fgetc
global	_libraryFp
global	_unexp_eof
global	_readName
psect	text
_visitSymbols:
call ncsv
defw -104
ld	hl,(_symCnt)
ld	(ix+-102),l
ld	(ix+-101),h
jp	l9
l6:
ld	hl,(_libraryFp)
push	hl
call	_fgetc
pop	bc
ld	(ix+-104),l
ld	(ix+-103),h
ld	de,-1
or	a
sbc	hl,de
call	z,_unexp_eof
push	ix
pop	de
ld	hl,-100
add	hl,de
push	hl
call	_readName
pop	bc
ld	l,(ix+-104)
push	hl
push	ix
pop	de
ld	hl,-100
add	hl,de
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
call	indir
pop	bc
pop	bc
ld	l,(ix+-102)
ld	h,(ix+-101)
dec	hl
ld	(ix+-102),l
ld	(ix+-101),h
l9:
ld	a,(ix+-102)
or	(ix+-101)
jp	nz,l6
jp	cret
_readName:
global csv
call csv
push hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
pop	iy
l14:
ld	hl,(_libraryFp)
push	hl
call	_fgetc
pop	bc
ld	(ix+-2),l
ld	(ix+-1),h
ld	de,-1
or	a
sbc	hl,de
call	z,_unexp_eof
ld	a,(ix+-2)
ld	(iy+0),a
inc	iy
or	(ix+-1)
jp	nz,l14
jp	cret
global	_badFormat
_unexp_eof:
ld	hl,19f
push	hl
call	_badFormat
pop	bc
ret	
global	_main
global	__getargs
global	__argc_
global	_key_R
global	_key_LM
global	_key_L
global	_key_N
global	_key_C
global	_parseLongVal
global	_offset_address
global	_key_S
global	_key_X
global	_key_Z
global	_fname_outp
global	_fatal_err
global	_psect_location
global	_fname_map
global	_key_M
global	_addSym
global	_key_H
global	_fname_sym
global	__ctype_
global	_width
global	_atoi
global	_key_I
global	_usageMsg
global	_fprintf
global	__iob
global	_exit
global	_create_symtab
global	_outFp
global	_fopen
global	_freopen
global	_symFp
global	_absSym
global	_num_lib_files
global	_curFileId
global	_is_library
global	_allocModuleArrays
global	_linker_pass
global	_fname_obj
global	_openLibrary
global	_doObjFile
global	wrelop
global	_finPassHandler
global	_err_num
global	brelop
_main:
global csv
call csv
push hl
ld	de,1
ld	l,(ix+6)
ld	h,(ix+7)
or	a
sbc	hl,de
jp	nz,l18
ld	hl,29f
push	hl
ld	hl,0
push	hl
call	__getargs
pop	bc
pop	bc
ld	(ix+8),l
ld	(ix+9),h
ld	hl,(__argc_)
ld	(ix+6),l
ld	(ix+7),h
l18:
ld	l,(ix+6)
ld	h,(ix+7)
dec	hl
ld	(ix+6),l
ld	(ix+7),h
ld	l,(ix+8)
ld	h,(ix+9)
inc	hl
inc	hl
ld	(ix+8),l
ld	(ix+9),h
jp	l22
l19:
ld	l,(ix+8)
ld	h,(ix+9)
ld	c,(hl)
inc	hl
ld	b,(hl)
inc	bc
ld	(ix+-2),c
ld	(ix+-1),b
l26:
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
or	a
jp	nz,l27
ld	l,(ix+6)
ld	h,(ix+7)
dec	hl
ld	(ix+6),l
ld	(ix+7),h
ld	l,(ix+8)
ld	h,(ix+9)
inc	hl
inc	hl
ld	(ix+8),l
ld	(ix+9),h
l22:
ld	a,(ix+6)
or	(ix+7)
jp	nz,L4
jp	l20
l27:
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
inc	hl
ld	(ix+-2),l
ld	(ix+-1),h
add	a,189
ld	l,a
ld	h,0
ld	a,h
cp	h
jp	c,l69
jp	nz,L5
ld	a,55
cp	l
jp	c,l69
L5:
add	hl,hl
ld	de,S181
add	hl,de
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
jp	(hl)
l28:
l29:
ld	a,1
ld	(_key_R),a
jp	l26
l30:
l31:
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
cp	109
jp	z,L6
ld	a,(hl)
cp	77
jp	nz,l32
L6:
ld	a,1
ld	(_key_LM),a
ld	l,(ix+-2)
ld	h,(ix+-1)
inc	hl
L17:
ld	(ix+-2),l
ld	(ix+-1),h
jp	l26
l32:
ld	a,1
ld	(_key_L),a
jp	l26
l33:
l34:
ld	a,1
ld	(_key_N),a
jp	l26
l35:
l36:
ld	a,1
ld	(_key_C),a
ld	hl,_offset_address
push	hl
push	ix
pop	hl
dec	hl
dec	hl
push	hl
call	_parseLongVal
pop	bc
L20:
pop	bc
jp	l26
l37:
l38:
ld	a,1
ld	(_key_S),a
l39:
l40:
ld	a,1
ld	(_key_X),a
l41:
l42:
ld	a,1
ld	(_key_Z),a
jp	l26
l43:
l44:
ld	hl,(_fname_outp)
ld	a,l
or	h
jp	nz,l45
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
or	a
jp	z,l45
ld	(_fname_outp),hl
ld	hl,39f
jp	L17
l45:
ld	hl,49f
L22:
push	hl
call	_fatal_err
jp	L20
l47:
l48:
ld	hl,(_psect_location)
ld	a,l
or	h
jp	nz,l49
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
or	a
jp	z,l49
ld	(_psect_location),hl
ld	hl,59f
jp	L17
l49:
ld	hl,69f
jp	L22
l51:
l52:
ld	hl,(_fname_map)
ld	a,l
or	h
jp	nz,l53
ld	a,1
ld	(_key_M),a
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	(_fname_map),hl
ld	hl,79f
jp	L17
l53:
ld	hl,89f
jp	L22
l54:
l55:
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
or	a
jp	z,l56
ld	hl,16
push	hl
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
call	_addSym
pop	bc
pop	bc
ld	hl,99f
jp	L17
l56:
ld	hl,109f
jp	L22
l57:
l58:
ld	a,1
ld	(_key_H),a
l59:
l60:
ld	hl,(_fname_sym)
ld	a,l
or	h
jp	z,l61
ld	hl,119f
push	hl
call	_fatal_err
pop	bc
l61:
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
or	a
jp	z,l62
ld	(_fname_sym),hl
jp	l63
l62:
ld	hl,129f
ld	(_fname_sym),hl
l63:
ld	hl,139f
jp	L17
l64:
l65:
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	a,(hl)
ld	e,a
rla
sbc	a,a
ld	d,a
ld	hl,__ctype_+1
add	hl,de
bit	2,(hl)
jp	z,l66
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
call	_atoi
pop	bc
ld	(_width),hl
ld	hl,149f
jp	L17
l66:
ld	hl,159f
jp	L22
l67:
l68:
ld	a,1
ld	(_key_I),a
jp	l26
l69:
ld	hl,_usageMsg
push	hl
ld	l,(ix+-2)
ld	h,(ix+-1)
dec	hl
ld	a,(hl)
ld	l,a
rla
sbc	a,a
ld	h,a
push	hl
ld	hl,169f
push	hl
call	_fatal_err
pop	bc
pop	bc
jp	L20
L4:
ld	l,(ix+8)
ld	h,(ix+9)
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
ld	a,(hl)
cp	45
jp	z,l19
l20:
ld	a,(_key_C)
or	a
jp	z,l70
ld	a,(_key_R)
or	a
jp	nz,L1
ld	a,(_key_L)
or	a
jp	z,l70
L1:
ld	hl,179f
push	hl
ld	hl,__iob+18
push	hl
call	_fprintf
pop	bc
ld	hl,1
ex	(sp),hl
call	_exit
pop	bc
l70:
ld	a,(ix+6)
or	(ix+7)
jp	nz,l71
ld	hl,_usageMsg
push	hl
call	_fatal_err
pop	bc
l71:
call	_create_symtab
ld	hl,(_fname_outp)
ld	a,l
or	h
jp	nz,l72
ld	a,(_key_C)
or	a
jp	z,l73
ld	hl,189f
ld	(_fname_outp),hl
jp	l72
l73:
ld	hl,199f
ld	(_fname_outp),hl
l72:
ld	hl,209f
push	hl
ld	hl,(_fname_outp)
push	hl
call	_fopen
pop	bc
pop	bc
ld	(_outFp),hl
ld	a,l
or	h
jp	nz,l75
ld	hl,(_fname_outp)
push	hl
ld	hl,219f
push	hl
call	_fatal_err
pop	bc
pop	bc
l75:
ld	a,(_key_M)
or	a
jp	z,l76
ld	hl,(_fname_map)
ld	a,(hl)
or	a
jp	z,l76
ld	hl,__iob+9
push	hl
ld	hl,229f
push	hl
ld	hl,(_fname_map)
push	hl
call	_freopen
pop	bc
pop	bc
pop	bc
ld	a,l
or	h
jp	nz,l76
ld	hl,(_fname_map)
push	hl
ld	hl,239f
push	hl
call	_fatal_err
pop	bc
pop	bc
l76:
ld	hl,(_fname_sym)
ld	a,l
or	h
jp	z,l77
ld	hl,249f
push	hl
ld	hl,(_fname_sym)
push	hl
call	_fopen
pop	bc
pop	bc
ld	(_symFp),hl
ld	a,l
or	h
jp	nz,l77
ld	hl,(_fname_sym)
push	hl
ld	hl,259f
push	hl
call	_fatal_err
pop	bc
pop	bc
l77:
ld	hl,-32560
push	hl
ld	hl,269f
push	hl
call	_addSym
pop	bc
pop	bc
ld	(_absSym),hl
ld	hl,0
ld	(_num_lib_files),hl
ld	(_curFileId),hl
jp	l82
l79:
ld	e,(ix+8)
ld	d,(ix+9)
ld	hl,(_curFileId)
add	hl,hl
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
call	_is_library
pop	bc
ld	a,l
or	a
jp	z,l81
ld	hl,(_num_lib_files)
inc	hl
ld	(_num_lib_files),hl
l81:
ld	hl,(_curFileId)
inc	hl
ld	(_curFileId),hl
l82:
ld	de,(_curFileId)
ld	l,(ix+6)
ld	h,(ix+7)
or	a
sbc	hl,de
jp	nz,l79
ld	hl,(_num_lib_files)
push	hl
call	_allocModuleArrays
pop	bc
xor	a
ld	(_linker_pass),a
jp	l87
L23:
ld	(_num_lib_files),hl
ld	(_curFileId),hl
jp	l91
l88:
ld	hl,__iob
push	hl
ld	hl,279f
push	hl
ld	e,(ix+8)
ld	d,(ix+9)
ld	hl,(_curFileId)
add	hl,hl
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	(_fname_obj),bc
push	bc
call	_freopen
pop	bc
pop	bc
pop	bc
ld	a,l
or	h
ld	hl,(_fname_obj)
push	hl
jp	nz,L11
ld	hl,289f
push	hl
call	_fatal_err
pop	bc
ld	hl,(_fname_obj)
ex	(sp),hl
L11:
call	_is_library
pop	bc
ld	a,l
or	a
jp	z,l93
call	_openLibrary
ld	hl,(_num_lib_files)
inc	hl
ld	(_num_lib_files),hl
jp	l94
l93:
call	_doObjFile
l94:
ld	hl,0
ld	(_fname_obj),hl
ld	hl,(_curFileId)
inc	hl
ld	(_curFileId),hl
l91:
ld	e,(ix+6)
ld	d,(ix+7)
ld	hl,(_curFileId)
call	wrelop
jp	c,l88
ld	de,_finPassHandler
ld	a,(_linker_pass)
ld	l,a
ld	h,0
add	hl,hl
add	hl,de
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
call	indir
ld	hl,(_err_num)
ld	a,l
or	h
jp	z,l86
ld	hl,1
push	hl
call	_exit
pop	bc
l86:
ld	a,(_linker_pass)
inc	a
ld	(_linker_pass),a
l87:
ld	b,2
ld	a,(_linker_pass)
call	brelop
ld	hl,0
jp	c,L23
push	hl
call	_exit
jp	cret
psect	data
S181:
defw	l35
defw	l59
defw	l69
defw	l69
defw	l69
defw	l57
defw	l67
defw	l69
defw	l69
defw	l30
defw	l51
defw	l33
defw	l43
defw	l47
defw	l69
defw	l28
defw	l37
defw	l69
defw	l54
defw	l69
defw	l64
defw	l39
defw	l69
defw	l41
defw	l69
defw	l69
defw	l69
defw	l69
defw	l69
defw	l69
defw	l69
defw	l69
defw	l36
defw	l60
defw	l69
defw	l69
defw	l69
defw	l58
defw	l68
defw	l69
defw	l69
defw	l31
defw	l52
defw	l34
defw	l44
defw	l48
defw	l69
defw	l29
defw	l38
defw	l69
defw	l55
defw	l69
defw	l65
defw	l40
defw	l69
defw	l42
global	_readRecHdr
global	_recHandler
global	_rectyp
global	_numRecord
psect	text
_doObjFile:
l99:
call	_readRecHdr
ld	a,(_linker_pass)
ld	l,a
ld	h,0
add	hl,hl
ex	de,hl
ld	a,(_rectyp)
ld	l,a
ld	h,0
add	hl,hl
add	hl,hl
add	hl,de
ld	de,_recHandler
add	hl,de
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
call	indir
ld	a,(_rectyp)
cp	6
jp	nz,l99
ld	hl,0
ld	(_numRecord),hl
ld	(_fname_obj),hl
ret	
global	_skipRecData
global	_readRecData
global	_recbuf
_skipRecData:
ld	hl,_recbuf
push	hl
call	_readRecData
pop	bc
ret	
global	_strrchr
global	_strcmp
_is_library:
global csv
call csv
ld	hl,46
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_strrchr
pop	bc
pop	bc
ld	(ix+6),l
ld	(ix+7),h
ld	a,l
or	h
jp	z,L25
ld	hl,299f
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_strcmp
pop	bc
pop	bc
ld	a,l
or	h
jp	z,L26
ld	hl,309f
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_strcmp
pop	bc
pop	bc
ld	a,l
or	h
jp	nz,L25
L26:
ld	hl,1
jp	cret
L25:
ld	hl,0
jp	cret
global	_err_message
global	_fflush
global	_libraryName
global	_fputc
_err_message:
global csv
call csv
ld	hl,__iob+9
push	hl
call	_fflush
pop	bc
ld	hl,(_libraryName)
ld	a,l
or	h
jp	z,l103
push	hl
ld	hl,319f
push	hl
ld	hl,__iob+18
push	hl
call	_fprintf
pop	bc
pop	bc
pop	bc
l103:
ld	hl,(_fname_obj)
ld	a,l
or	h
jp	z,l104
push	hl
ld	hl,329f
push	hl
ld	hl,__iob+18
push	hl
call	_fprintf
pop	bc
pop	bc
pop	bc
l104:
ld	hl,(_numRecord)
ld	a,l
or	h
jp	z,l105
push	hl
ld	hl,339f
push	hl
ld	hl,__iob+18
push	hl
call	_fprintf
pop	bc
pop	bc
pop	bc
l105:
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,__iob+18
push	hl
call	_fprintf
ld	hl,12
add	hl,sp
ld	sp,hl
ld	hl,__iob+18
push	hl
ld	hl,10
push	hl
call	_fputc
jp	cret
_fatal_err:
global csv
call csv
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_err_message
ld	hl,10
add	hl,sp
ld	sp,hl
ld	hl,1
push	hl
call	_exit
jp	cret
global	_simpl_err
_simpl_err:
global csv
call csv
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_err_message
ld	hl,(_err_num)
inc	hl
ld	(_err_num),hl
jp	cret
global	_warning
_warning:
global csv
call csv
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,__iob+18
push	hl
call	_fprintf
ld	hl,12
add	hl,sp
ld	sp,hl
ld	hl,349f
push	hl
ld	hl,__iob+18
push	hl
call	_fprintf
jp	cret
_badFormat:
global csv
call csv
ld	hl,359f
push	hl
call	_err_message
ld	l,(ix+14)
ld	h,(ix+15)
ex	(sp),hl
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_fatal_err
jp	cret
global	_xalloc
global	_malloc
global	_clrbuf
_xalloc:
global csv
call csv
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_malloc
pop	bc
push	hl
pop	iy
ld	a,l
or	h
jp	nz,l111
ld	hl,369f
push	hl
call	_fatal_err
pop	bc
l111:
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
push	iy
call	_clrbuf
pop	bc
pop	bc
push	iy
pop	hl
jp	cret
global	_bmove
_clrbuf:
global csv
call csv
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
pop	iy
ld	a,(ix+8)
or	(ix+9)
jp	z,cret
ld	(iy+0),0
ld	de,-1
ld	l,(ix+8)
ld	h,(ix+9)
add	hl,de
ld	(ix+8),l
ld	(ix+9),h
ld	a,l
or	h
jp	z,cret
push	hl
push	iy
pop	hl
inc	hl
push	hl
push	iy
call	_bmove
jp	cret
global	_relocRecPass1
global	_strlen
global	_length
global	wrelop
_relocRecPass1:
global csv
call csv
push hl
ld	hl,_recbuf
push	hl
call	_readRecData
pop	bc
ld	iy,_recbuf
jp	l119
l116:
push	iy
pop	hl
inc	hl
inc	hl
inc	hl
ld	(ix+-2),l
ld	(ix+-1),h
ld	a,(iy+2)
and	240
cp	32
jp	z,L29
ld	a,(iy+2)
and	240
cp	96
jp	nz,l118
L29:
ld	hl,16
push	hl
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
call	_addSym
pop	bc
pop	bc
l118:
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
call	_strlen
pop	bc
ld	e,l
ld	d,h
inc	de
inc	de
inc	de
inc	de
add	iy,de
l119:
ld	de,(_length)
ld	hl,_recbuf
add	hl,de
ex	de,hl
push	iy
pop	hl
call	wrelop
jp	c,l116
jp	cret
global	_relocRecPass2
global	_fixupName
global	_conv_letoi16
global	_textLen
global	wrelop
global	_textRecPtr
global	_textRecBuf
global	_chkAddRecordItem
global	_fixup
global	_alreadyWritten
global	llsub
global	_conv_u16tob
global	_nonTextRecPtr
global	_strcpy
global	_textBaseAddress
global	llsub
global	lladd
global	lladd
global	lladd
global	aslllsh
global	llsub
global	lldiv
global	llsub
global	lladd
global	aslllsh
global	llsub
global	lldiv
global	wrelop
_relocRecPass2:
call ncsv
defw -15
ld	hl,_recbuf
push	hl
call	_readRecData
pop	bc
ld	hl,_recbuf
ld	(ix+-2),l
ld	(ix+-1),h
jp	l125
l122:
ld	l,(ix+-2)
ld	h,(ix+-1)
inc	hl
inc	hl
inc	hl
ld	(ix+-6),l
ld	(ix+-5),h
ld	(_fixupName),hl
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
call	_conv_letoi16
pop	bc
ld	(ix+-10),l
ld	(ix+-9),h
ld	de,(_textLen)
call	wrelop
jp	c,l126
ld	de,_textRecBuf
ld	hl,(_textRecPtr)
or	a
sbc	hl,de
push	hl
ld	hl,(_textLen)
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
ld	hl,379f
push	hl
call	_badFormat
pop	bc
pop	bc
pop	bc
pop	bc
l126:
ld	l,(ix+-2)
ld	h,(ix+-1)
inc	hl
inc	hl
ld	l,(hl)
ld	(ix+-15),l
ld	a,(_key_R)
or	a
jp	z,l127
ld	a,l
and	48
cp	32
jp	nz,l128
ld	hl,0
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	(ix+-4),l
ld	(ix+-3),h
ex	de,hl
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	a,c
and	15
ld	l,a
xor	a
ld	h,a
ld	de,6
or	a
sbc	hl,de
jp	z,l128
ld	a,(ix+-15)
and	207
or	16
ld	(ix+-15),a
ld	l,(ix+-4)
ld	h,(ix+-3)
inc	hl
inc	hl
inc	hl
inc	hl
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	l,e
ld	h,d
add	hl,bc
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	(ix+-6),c
ld	(ix+-5),b
ld	(_fixupName),bc
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_strlen
pop	bc
inc	hl
inc	hl
inc	hl
inc	hl
ld	(ix+-8),l
ld	(ix+-7),h
push	hl
ld	l,3
push	hl
call	_chkAddRecordItem
pop	bc
ld	hl,-32768
ex	(sp),hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	hl,14
add	hl,bc
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
ld	l,(ix+-4)
ld	h,(ix+-3)
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
call	llsub
push	hl
push	de
ld	l,(ix+-15)
ld	h,0
push	hl
ld	de,(_alreadyWritten)
ld	l,(ix+-10)
ld	h,(ix+-9)
or	a
sbc	hl,de
push	hl
call	_fixup
pop	bc
pop	bc
pop	bc
pop	bc
l128:
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_strlen
pop	bc
inc	hl
inc	hl
inc	hl
inc	hl
ld	(ix+-8),l
ld	(ix+-7),h
push	hl
ld	l,3
push	hl
call	_chkAddRecordItem
pop	bc
ld	de,(_alreadyWritten)
ld	l,(ix+-10)
ld	h,(ix+-9)
or	a
sbc	hl,de
ld	(ix+-10),l
ld	(ix+-9),h
ld	hl,(_nonTextRecPtr)
ex	(sp),hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_conv_u16tob
pop	bc
pop	bc
ld	a,(ix+-15)
ld	hl,(_nonTextRecPtr)
inc	hl
inc	hl
ld	(hl),a
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
ld	hl,(_nonTextRecPtr)
inc	hl
inc	hl
inc	hl
push	hl
call	_strcpy
pop	bc
pop	bc
ld	e,(ix+-8)
ld	d,(ix+-7)
ld	hl,(_nonTextRecPtr)
add	hl,de
ld	(_nonTextRecPtr),hl
ld	a,(ix+-15)
and	240
ld	l,a
ld	h,0
ld	a,h
or	a
jp	nz,l132
ld	a,l
or	a
jp	z,l138
cp	16
jp	z,l141
cp	32
jp	z,l138
cp	64
jp	z,l141
cp	80
jp	z,l141
cp	96
jp	z,l138
cp	128
jp	z,l138
cp	144
jp	z,l138
cp	160
jp	z,l138
l132:
ld	l,(ix+-15)
ld	h,0
push	hl
ld	hl,389f
push	hl
call	_badFormat
L42:
pop	bc
pop	bc
jp	l124
l138:
ld	de,0
ld	l,e
ld	h,d
L44:
push	hl
push	de
ld	l,(ix+-15)
ld	h,0
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_fixup
pop	bc
pop	bc
jp	L42
l141:
ld	hl,-32768
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	hl,14
add	hl,bc
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
jp	L44
l127:
ld	a,(_key_L)
or	a
jp	nz,L34
ld	a,(_key_LM)
or	a
jp	z,l143
L34:
ld	hl,4
push	hl
ld	l,3
push	hl
call	_chkAddRecordItem
pop	bc
pop	bc
l143:
ld	de,(_alreadyWritten)
ld	l,(ix+-10)
ld	h,(ix+-9)
or	a
sbc	hl,de
ld	(ix+-10),l
ld	(ix+-9),h
ld	a,(ix+-15)
and	240
ld	l,a
ld	h,0
ld	a,h
or	a
jp	nz,l146
ld	a,l
or	a
jp	z,l148
cp	16
jp	z,l151
cp	32
jp	z,l156
cp	64
jp	z,l150
cp	80
jp	z,l150
cp	96
jp	z,l155
cp	128
jp	z,l148
cp	144
jp	z,l152
cp	160
jp	z,l157
l146:
ld	l,(ix+-15)
ld	h,0
push	hl
ld	hl,399f
push	hl
call	_badFormat
pop	bc
pop	bc
l144:
ld	a,(_key_L)
or	a
jp	z,L32
bit	7,(ix+-15)
jp	nz,L32
jp	L31
l148:
ld	(ix+-4),0
ld	(ix+-3),0
ld	de,0
ld	l,e
ld	h,d
L43:
push	hl
push	de
ld	l,(ix+-15)
ld	h,0
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_fixup
pop	bc
pop	bc
pop	bc
pop	bc
jp	l144
l150:
ld	hl,-32768
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	(ix+-4),l
ld	(ix+-3),h
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
pop	iy
ld	e,(iy+14)
ld	d,(iy+15)
ld	l,(iy+16)
ld	h,(iy+17)
push	hl
push	de
ld	e,(iy+0)
ld	d,(iy+1)
ld	l,(iy+2)
ld	h,(iy+3)
push	hl
push	de
ld	de,(_textBaseAddress)
ld	hl,(_textBaseAddress+2)
push	hl
push	de
ld	e,(ix+-10)
ld	d,(ix+-9)
ld	hl,0
push	hl
push	de
pop	bc
or	a
sbc	hl,bc
pop	bc
ex	de,hl
ld	hl,0
sbc	hl,bc
call	llsub
call	lladd
L45:
call	lladd
jp	L43
l151:
ld	hl,-32768
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	(ix+-4),l
ld	(ix+-3),h
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
pop	iy
ld	e,(iy+14)
ld	d,(iy+15)
ld	l,(iy+16)
ld	h,(iy+17)
push	hl
push	de
ld	e,(iy+0)
ld	d,(iy+1)
ld	l,(iy+2)
ld	h,(iy+3)
jp	L45
l152:
ld	hl,-32768
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	(ix+-4),l
ld	(ix+-3),h
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
pop	iy
ld	e,(iy+12)
ld	d,(iy+13)
ld	hl,0
ld	(ix+-14),e
ld	(ix+-13),d
ld	(ix+-12),l
ld	(ix+-11),h
ld	a,(ix+-14)
or	(ix+-13)
or	(ix+-12)
or	(ix+-11)
jp	nz,l153
ld	(ix+-14),1
ld	(ix+-13),0
ld	(ix+-12),0
ld	(ix+-11),0
l153:
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
bit	0,b
jp	z,L46
ld	b,16
push	ix
pop	de
ld	hl,-14
add	hl,de
call	aslllsh
L46:
ld	e,(ix+-14)
ld	d,(ix+-13)
ld	l,(ix+-12)
ld	h,(ix+-11)
push	hl
push	de
ld	e,(iy+0)
ld	d,(iy+1)
ld	l,(iy+2)
ld	h,(iy+3)
push	hl
push	de
ld	e,(iy+4)
ld	d,(iy+5)
ld	l,(iy+6)
ld	h,(iy+7)
call	llsub
call	lldiv
jp	L43
l155:
ld	hl,0
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	(ix+-4),l
ld	(ix+-3),h
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
ld	de,(_textBaseAddress)
ld	hl,(_textBaseAddress+2)
push	hl
push	de
ld	e,(ix+-10)
ld	d,(ix+-9)
ld	hl,0
push	hl
push	de
pop	bc
or	a
sbc	hl,bc
pop	bc
ex	de,hl
ld	hl,0
sbc	hl,bc
call	llsub
call	lladd
push	hl
push	de
ld	l,(ix+-15)
ld	h,0
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_fixup
pop	bc
pop	bc
pop	bc
pop	bc
L37:
ld	l,(ix+-4)
ld	h,(ix+-3)
inc	hl
inc	hl
inc	hl
inc	hl
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	(ix+-4),c
ld	(ix+-3),b
jp	l144
l156:
ld	hl,0
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
ld	(ix+-4),l
ld	(ix+-3),h
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
ld	l,(ix+-15)
ld	h,0
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_fixup
pop	bc
pop	bc
pop	bc
pop	bc
jp	L37
l157:
ld	hl,0
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_addSym
pop	bc
pop	bc
inc	hl
inc	hl
inc	hl
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
ld	(ix+-4),l
ld	(ix+-3),h
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
pop	iy
ld	e,(iy+12)
ld	d,(iy+13)
ld	hl,0
ld	(ix+-14),e
ld	(ix+-13),d
ld	(ix+-12),l
ld	(ix+-11),h
ld	a,(ix+-14)
or	(ix+-13)
or	(ix+-12)
or	(ix+-11)
jp	nz,l158
ld	(ix+-14),1
ld	(ix+-13),0
ld	(ix+-12),0
ld	(ix+-11),0
l158:
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
bit	0,b
jp	z,L46
ld	b,16
push	ix
pop	de
ld	hl,-14
add	hl,de
call	aslllsh
jp	L46
L32:
ld	a,(_key_LM)
or	a
jp	z,l124
bit	7,(ix+-15)
jp	z,l124
L31:
ld	a,(ix+-4)
or	(ix+-3)
jp	z,l124
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
bit	7,c
jp	nz,l124
ld	hl,(_nonTextRecPtr)
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_conv_u16tob
pop	bc
pop	bc
ld	a,(ix+-15)
and	143
ld	hl,(_nonTextRecPtr)
inc	hl
inc	hl
ld	(hl),a
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	hl,6
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
ld	hl,(_nonTextRecPtr)
inc	hl
inc	hl
inc	hl
push	hl
call	_strcpy
pop	bc
pop	bc
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	hl,6
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
call	_strlen
pop	bc
ld	e,l
ld	d,h
inc	de
inc	de
inc	de
inc	de
ld	hl,(_nonTextRecPtr)
add	hl,de
ld	(_nonTextRecPtr),hl
l124:
ld	l,(ix+-2)
ld	h,(ix+-1)
inc	hl
inc	hl
inc	hl
push	hl
call	_strlen
pop	bc
ld	e,l
ld	d,h
inc	de
inc	de
inc	de
inc	de
ld	l,(ix+-2)
ld	h,(ix+-1)
add	hl,de
ld	(ix+-2),l
ld	(ix+-1),h
l125:
ld	de,(_length)
ld	hl,_recbuf
add	hl,de
ex	de,hl
ld	l,(ix+-2)
ld	h,(ix+-1)
call	wrelop
jp	c,l122
jp	cret
global	_curAddr
global	_endAddr
global	lladd
global	lladd
global	_conv_btou24
global	lladd
global	_conv_u24tob
global	_conv_u32tob
global	_conv_btou32
global	lladd
global	lland
global	llor
global	lrelop
_fixup:
call ncsv
defw -10
ld	de,(_curAddr)
ld	l,(ix+6)
ld	h,(ix+7)
add	hl,de
ld	(ix+-10),l
ld	(ix+-9),h
ex	de,hl
ld	a,(ix+8)
and	15
ld	l,a
xor	a
ld	h,a
add	hl,de
ld	(_endAddr),hl
ld	a,(ix+8)
and	15
ld	l,a
xor	a
ld	h,a
or	a
jp	nz,l169
ld	a,l
cp	1
jp	z,l165
cp	2
jp	z,l166
cp	3
jp	z,l167
cp	4
jp	z,l168
l169:
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	hl,409f
push	hl
call	_badFormat
L52:
pop	bc
pop	bc
jp	cret
l165:
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
push	de
ld	l,(ix+-10)
ld	h,(ix+-9)
ld	l,(hl)
ld	hl,0
ld	d,l
ld	e,l
call	lladd
ld	(ix+-4),e
ld	(ix+-3),d
ld	(ix+-2),l
ld	(ix+-1),h
ld	(ix+-8),255
ld	(ix+-7),0
ld	(ix+-6),0
ld	(ix+-5),0
ld	l,(ix+-10)
ld	h,(ix+-9)
ld	a,(hl)
add	a,(ix+10)
ld	(hl),a
l163:
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
push	de
ld	e,(ix+-8)
ld	d,(ix+-7)
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
push	de
ld	hl,-1
pop	bc
or	a
sbc	hl,bc
pop	bc
ex	de,hl
ld	hl,-1
sbc	hl,bc
call	lland
ld	a,e
or	d
or	l
or	h
jp	nz,L50
jp	cret
l166:
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
push	de
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_conv_letoi16
pop	bc
ex	de,hl
ld	a,d
rla
sbc	a,a
ld	l,a
ld	h,a
call	lladd
ld	(ix+-4),e
ld	(ix+-3),d
ld	(ix+-2),l
ld	(ix+-1),h
ld	(ix+-8),255
ld	(ix+-7),255
ld	(ix+-6),0
ld	(ix+-5),0
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
ld	l,e
ld	h,0
push	hl
call	_conv_u16tob
pop	bc
pop	bc
jp	l163
l167:
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
push	de
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_conv_btou24
pop	bc
call	lladd
ld	(ix+-4),e
ld	(ix+-3),d
ld	(ix+-2),l
ld	(ix+-1),h
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
push	de
call	_conv_u24tob
pop	bc
pop	bc
pop	bc
ld	(ix+-8),255
ld	(ix+-7),255
ld	(ix+-6),255
ld	(ix+-5),0
jp	l163
l168:
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
push	de
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_conv_btou32
pop	bc
call	lladd
push	hl
push	de
call	_conv_u32tob
pop	bc
jp	L52
L50:
ld	de,-1
ld	l,e
ld	h,d
push	hl
push	de
ld	e,(ix+-8)
ld	d,(ix+-7)
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
push	de
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	l,(ix+-2)
ld	h,(ix+-1)
call	llor
call	lrelop
jp	z,cret
ld	hl,(_fixupName)
push	hl
bit	5,(ix+8)
jp	nz,L48
ld	hl,439f
jp	L47
L48:
ld	hl,429f
L47:
push	hl
ld	hl,419f
push	hl
call	_simpl_err
jp	cret
global	_symbol_table
_create_symtab:
ld	hl,1994
push	hl
call	_xalloc
pop	bc
ld	(_symbol_table),hl
ret	
global	_getSymbolSlot
global	lmod
_getSymbolSlot:
call ncsv
defw -8
ld	(ix+-6),0
ld	(ix+-5),0
ld	l,(ix+6)
ld	h,(ix+7)
ld	(ix+-8),l
ld	(ix+-7),h
jp	l176
l173:
ld	l,(ix+-8)
ld	h,(ix+-7)
ld	e,(hl)
ld	d,0
ld	l,(ix+-6)
ld	h,(ix+-5)
add	hl,de
ld	(ix+-6),l
ld	(ix+-5),h
ld	l,(ix+-8)
ld	h,(ix+-7)
inc	hl
ld	(ix+-8),l
ld	(ix+-7),h
l176:
ld	l,(ix+-8)
ld	h,(ix+-7)
ld	a,(hl)
or	a
jp	nz,l173
ld	de,997
ld	l,(ix+-6)
ld	h,(ix+-5)
call	lmod
add	hl,hl
ld	de,(_symbol_table)
add	hl,de
ld	(ix+-2),l
ld	(ix+-1),h
ld	h,(ix+9)
xor	a
ld	l,a
ld	a,h
and	192
ld	h,a
ld	(ix+8),l
ld	(ix+9),h
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	(ix+-4),l
ld	(ix+-3),h
jp	l177
l178:
ld	e,(ix+8)
ld	d,(ix+9)
xor	a
ld	l,a
ld	a,(iy+9)
and	192
ld	h,a
or	a
sbc	hl,de
jp	nz,l180
bit	4,(iy+8)
jp	nz,L54
ld	de,(_curFileId)
ld	l,(iy+10)
ld	h,0
or	a
sbc	hl,de
jp	z,L54
ld	a,(_key_R)
or	a
jp	z,l180
L54:
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	l,(iy+6)
ld	h,(iy+7)
push	hl
call	_strcmp
pop	bc
pop	bc
ld	a,l
or	h
jp	z,l179
l180:
ld	de,(_symbol_table)
ld	hl,1994
add	hl,de
ex	de,hl
ld	l,(ix+-4)
ld	h,(ix+-3)
inc	hl
inc	hl
ld	(ix+-4),l
ld	(ix+-3),h
or	a
sbc	hl,de
jp	nz,l183
ld	hl,(_symbol_table)
ld	(ix+-4),l
ld	(ix+-3),h
l183:
ld	e,(ix+-2)
ld	d,(ix+-1)
ld	l,(ix+-4)
ld	h,(ix+-3)
or	a
sbc	hl,de
jp	nz,l177
ld	hl,449f
push	hl
call	_fatal_err
pop	bc
l177:
ld	l,(ix+-4)
ld	h,(ix+-3)
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
pop	iy
ld	a,c
or	b
jp	nz,l178
l179:
ld	l,(ix+-4)
ld	h,(ix+-3)
jp	cret
global	_getSymbol
_getSymbol:
global csv
call csv
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_getSymbolSlot
pop	bc
pop	bc
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
jp	cret
global	_newSymCnt
global	_cntUnresolved
global	_nextPsect
global	_psectInfo
_addSym:
global csv
call csv
push hl
ld	l,(ix+8)
ld	h,(ix+9)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_getSymbolSlot
pop	bc
pop	bc
ld	(ix+-2),l
ld	(ix+-1),h
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
pop	iy
push	bc
pop	hl
ld	a,l
or	h
jp	nz,l187
ld	hl,(_newSymCnt)
inc	hl
ld	(_newSymCnt),hl
ld	hl,11
push	hl
call	_xalloc
pop	bc
ex	de,hl
push	de
pop	iy
ld	l,(ix+-2)
ld	h,(ix+-1)
ld	(hl),e
inc	hl
ld	(hl),d
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_strlen
pop	bc
inc	hl
push	hl
call	_xalloc
ld	(iy+6),l
ld	(iy+7),h
ld	l,(ix+6)
ld	h,(ix+7)
ex	(sp),hl
ld	l,(iy+6)
ld	h,(iy+7)
push	hl
call	_strcpy
pop	bc
pop	bc
ld	a,(_curFileId)
ld	(iy+10),a
xor	a
ld	l,a
ld	a,(ix+9)
and	192
ld	h,a
ld	a,l
or	h
jp	nz,l188
ld	hl,(_cntUnresolved)
inc	hl
ld	(_cntUnresolved),hl
ld	(iy+8),6
ld	(iy+9),0
jp	l187
l188:
ld	de,_psectInfo+540
ld	hl,(_nextPsect)
or	a
sbc	hl,de
jp	nz,l190
ld	hl,459f
push	hl
call	_fatal_err
pop	bc
l190:
ld	de,(_nextPsect)
ld	hl,22
add	hl,de
push	iy
pop	de
ld	(hl),e
inc	hl
ld	(hl),d
ld	hl,(_nextPsect)
ld	bc,27
add	hl,bc
ld	(_nextPsect),hl
sbc	hl,bc
ld	(iy+0),l
ld	(iy+1),h
l187:
ld	a,(ix+8)
and	240
ld	e,a
ld	d,(ix+9)
ld	l,(iy+8)
ld	h,(iy+9)
ld	a,l
or	e
ld	l,a
ld	a,h
or	d
ld	h,a
ld	(iy+8),l
ld	(iy+9),h
push	iy
pop	hl
jp	cret
global	_prSymbol
global	llsub
_prSymbol:
global csv
call csv
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
pop	iy
ld	a,(_key_H)
or	a
jp	nz,l195
ld	a,(ix+12)
or	(ix+13)
jp	nz,cret
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	e,(ix+8)
ld	d,(ix+9)
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
push	de
ld	hl,469f
L61:
push	hl
ld	hl,(_symFp)
push	hl
call	_fprintf
jp	cret
l195:
ld	l,(ix+12)
ld	h,(ix+13)
ld	a,h
or	a
jp	nz,l194
ld	a,l
cp	1
jp	z,l198
cp	3
jp	z,l196
cp	5
jp	z,l197
l194:
ld	e,(ix+8)
ld	d,(ix+9)
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
push	de
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,509f
push	hl
ld	hl,(_symFp)
push	hl
call	_fprintf
ld	hl,10
add	hl,sp
ld	sp,hl
push	iy
pop	hl
ld	a,l
or	h
jp	z,l199
ld	l,(iy+0)
ld	h,(iy+1)
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
ld	l,(iy+0)
ld	h,(iy+1)
inc	hl
inc	hl
inc	hl
inc	hl
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
call	llsub
push	hl
push	de
ld	hl,519f
push	hl
ld	hl,(_symFp)
push	hl
call	_fprintf
pop	bc
pop	bc
pop	bc
pop	bc
l199:
ld	hl,(_symFp)
push	hl
ld	hl,10
push	hl
call	_fputc
L59:
pop	bc
pop	bc
jp	cret
l196:
ld	e,(ix+8)
ld	d,(ix+9)
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
push	de
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,479f
jp	L61
l197:
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,489f
push	hl
ld	hl,(_symFp)
push	hl
call	_fprintf
pop	bc
jp	L59
l198:
ld	e,(ix+8)
ld	d,(ix+9)
ld	l,(ix+10)
ld	h,(ix+11)
push	hl
push	de
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,499f
jp	L61
global	_symRecPass2
global	aslladd
global	aslladd
global	_isLocalName
global	wrelop
_symRecPass2:
call ncsv
defw -18
ld	hl,_recbuf
push	hl
call	_readRecData
pop	bc
ld	hl,_recbuf
ld	(ix+-6),l
ld	(ix+-5),h
jp	l204
l201:
ld	l,(ix+-6)
ld	h,(ix+-5)
inc	hl
inc	hl
inc	hl
inc	hl
push	hl
call	_conv_letoi16
pop	bc
ld	(ix+-14),l
ld	(ix+-13),h
ld	a,l
and	15
ld	l,a
xor	a
ld	h,a
ld	(ix+-16),l
ld	(ix+-15),h
ld	e,(ix+-6)
ld	d,(ix+-5)
ld	hl,6
add	hl,de
ld	(ix+-8),l
ld	(ix+-7),h
ld	(ix+-10),l
ld	(ix+-9),h
l206:
ld	l,(ix+-10)
ld	h,(ix+-9)
ld	a,(hl)
inc	hl
ld	(ix+-10),l
ld	(ix+-9),h
or	a
jp	nz,l206
push	hl
call	_strlen
ex	(sp),hl
ld	l,(ix+-8)
ld	h,(ix+-7)
push	hl
call	_strlen
pop	bc
pop	de
add	hl,de
ld	de,8
add	hl,de
ld	(ix+-18),l
ld	(ix+-17),h
ld	l,(ix+-8)
ld	h,(ix+-7)
ld	a,(hl)
or	a
jp	nz,L66
ld	hl,0
jp	L65
L66:
ld	hl,-32768
push	hl
ld	l,(ix+-8)
ld	h,(ix+-7)
push	hl
call	_addSym
pop	bc
pop	bc
L65:
ld	(ix+-12),l
ld	(ix+-11),h
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_conv_btou32
pop	bc
ld	(ix+-4),e
ld	(ix+-3),d
ld	(ix+-2),l
ld	(ix+-1),h
ld	l,(ix+-16)
ld	h,(ix+-15)
xor	a
cp	h
jp	c,l203
jp	nz,L62
ld	a,6
cp	l
jp	c,l203
L62:
add	hl,hl
ld	de,S232
add	hl,de
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
jp	(hl)
l210:
bit	4,(ix+-14)
jp	nz,l203
l212:
ld	a,(ix+-12)
or	(ix+-11)
jp	z,l213
ld	e,(ix+-12)
ld	d,(ix+-11)
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
bit	6,c
jp	nz,l214
ld	l,e
ld	h,d
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	hl,14
add	hl,bc
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
push	ix
pop	hl
dec	hl
dec	hl
dec	hl
dec	hl
call	aslladd
l214:
ld	a,(_key_R)
or	a
jp	nz,l213
ld	l,(ix+-12)
ld	h,(ix+-11)
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
push	ix
pop	hl
dec	hl
dec	hl
dec	hl
dec	hl
call	aslladd
l213:
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
push	de
call	_conv_u32tob
pop	bc
pop	bc
pop	bc
l216:
l217:
l218:
ld	a,(_key_X)
or	a
jp	nz,l203
ld	a,(_key_Z)
or	a
jp	z,l219
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_isLocalName
pop	bc
ld	a,l
or	a
jp	nz,l203
l219:
ld	hl,(_fname_sym)
ld	a,l
or	h
jp	z,l220
ld	l,(ix+-12)
ld	h,(ix+-11)
push	hl
ld	l,(ix+-16)
ld	h,(ix+-15)
push	hl
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
push	de
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_prSymbol
ld	hl,10
add	hl,sp
ld	sp,hl
l220:
ld	a,(_key_C)
or	a
jp	nz,l203
ld	l,(ix+-18)
ld	h,(ix+-17)
push	hl
ld	l,4
push	hl
call	_chkAddRecordItem
pop	bc
ld	l,(ix+-18)
ld	h,(ix+-17)
ex	(sp),hl
ld	hl,(_nonTextRecPtr)
push	hl
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_bmove
pop	bc
pop	bc
pop	bc
ld	e,(ix+-18)
ld	d,(ix+-17)
ld	hl,(_nonTextRecPtr)
add	hl,de
ld	(_nonTextRecPtr),hl
l203:
ld	e,(ix+-18)
ld	d,(ix+-17)
ld	l,(ix+-6)
ld	h,(ix+-5)
add	hl,de
ld	(ix+-6),l
ld	(ix+-5),h
l204:
ld	de,(_length)
ld	hl,_recbuf
add	hl,de
ex	de,hl
ld	l,(ix+-6)
ld	h,(ix+-5)
call	wrelop
jp	c,l201
jp	cret
l222:
l223:
jp	l203
psect	data
S232:
defw	l210
defw	l216
defw	l222
defw	l217
defw	l212
defw	l218
defw	l223
global	_symRecPass1
global	_defineSym
global	wrelop
psect	text
_symRecPass1:
call ncsv
defw -18
ld	hl,_recbuf
push	hl
call	_readRecData
pop	bc
ld	hl,_recbuf
ld	(ix+-6),l
ld	(ix+-5),h
jp	l228
l225:
ld	l,(ix+-6)
ld	h,(ix+-5)
inc	hl
inc	hl
inc	hl
inc	hl
push	hl
call	_conv_letoi16
pop	bc
ld	(ix+-14),l
ld	(ix+-13),h
ld	a,l
and	15
ld	l,a
xor	a
ld	h,a
ld	(ix+-16),l
ld	(ix+-15),h
ld	e,(ix+-6)
ld	d,(ix+-5)
ld	hl,6
add	hl,de
ld	(ix+-8),l
ld	(ix+-7),h
ld	(ix+-10),l
ld	(ix+-9),h
l230:
ld	l,(ix+-10)
ld	h,(ix+-9)
ld	a,(hl)
inc	hl
ld	(ix+-10),l
ld	(ix+-9),h
or	a
jp	nz,l230
push	hl
call	_strlen
ex	(sp),hl
ld	l,(ix+-8)
ld	h,(ix+-7)
push	hl
call	_strlen
pop	bc
pop	de
add	hl,de
ld	de,8
add	hl,de
ld	(ix+-18),l
ld	(ix+-17),h
ld	a,(ix+-16)
or	(ix+-15)
jp	z,L69
ld	hl,0
jp	L68
L69:
ld	hl,-32768
push	hl
ld	l,(ix+-8)
ld	h,(ix+-7)
push	hl
call	_addSym
pop	bc
pop	bc
L68:
ld	(ix+-12),l
ld	(ix+-11),h
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
call	_conv_btou32
pop	bc
ld	(ix+-4),e
ld	(ix+-3),d
ld	(ix+-2),l
ld	(ix+-1),h
ld	l,(ix+-16)
ld	h,(ix+-15)
xor	a
cp	h
jp	c,l227
jp	nz,L67
ld	a,6
cp	l
jp	c,l227
L67:
add	hl,hl
ld	de,S234
add	hl,de
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
jp	(hl)
l234:
ld	l,(ix+-14)
ld	h,(ix+-13)
set	4,l
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_addSym
pop	bc
pop	bc
l227:
ld	e,(ix+-18)
ld	d,(ix+-17)
ld	l,(ix+-6)
ld	h,(ix+-5)
add	hl,de
ld	(ix+-6),l
ld	(ix+-5),h
l228:
ld	de,(_length)
ld	hl,_recbuf
add	hl,de
ex	de,hl
ld	l,(ix+-6)
ld	h,(ix+-5)
call	wrelop
jp	c,l225
jp	cret
l235:
bit	4,(ix+-14)
jp	z,l227
l237:
ld	l,(ix+-14)
ld	h,(ix+-13)
push	hl
ld	e,(ix+-4)
ld	d,(ix+-3)
ld	l,(ix+-2)
ld	h,(ix+-1)
push	hl
push	de
ld	l,(ix+-12)
ld	h,(ix+-11)
push	hl
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
call	_defineSym
ld	hl,10
add	hl,sp
ld	sp,hl
jp	l227
l238:
l239:
l240:
l241:
bit	4,(ix+-14)
jp	z,l227
ld	l,(ix+-10)
ld	h,(ix+-9)
push	hl
ld	hl,529f
push	hl
call	_simpl_err
pop	bc
pop	bc
jp	l227
psect	data
S234:
defw	l235
defw	l238
defw	l237
defw	l239
defw	l240
defw	l241
defw	l234
global	lrelop
global	aslladd
psect	text
_defineSym:
global csv
call csv
push hl
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_addSym
pop	bc
pop	bc
push	hl
pop	iy
ld	a,(ix+14)
and	240
ld	e,a
ld	d,(ix+15)
ld	l,(iy+8)
ld	h,(iy+9)
ld	a,l
or	e
ld	l,a
ld	a,h
or	d
ld	h,a
ld	(iy+8),l
ld	(iy+9),h
ld	a,l
and	15
ld	(ix+-1),a
ld	a,(ix+14)
and	15
ld	(ix+-2),a
ld	a,(ix+-1)
cp	2
jp	nz,l244
ld	a,(ix+-2)
cp	2
jp	z,l245
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,539f
push	hl
call	_simpl_err
pop	bc
pop	bc
jp	cret
l245:
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
push	de
ld	e,(iy+0)
ld	d,(iy+1)
ld	l,(iy+2)
ld	h,(iy+3)
call	lrelop
jp	nc,cret
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
ld	(iy+0),e
ld	(iy+1),d
ld	(iy+2),l
ld	(iy+3),h
jp	cret
l244:
ld	a,(ix+-1)
cp	6
jp	nz,l249
ld	hl,(_cntUnresolved)
dec	hl
ld	(_cntUnresolved),hl
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
ld	(iy+0),e
ld	(iy+1),d
ld	(iy+2),l
ld	(iy+3),h
ld	l,(ix+8)
ld	h,(ix+9)
ld	(iy+4),l
ld	(iy+5),h
ld	a,(ix+-2)
cp	2
jp	z,l250
ex	de,hl
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
bit	6,c
jp	nz,l250
ld	l,e
ld	h,d
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	hl,14
add	hl,bc
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
push	iy
pop	hl
call	aslladd
l250:
ld	e,(ix+-2)
ld	d,0
ld	a,(iy+8)
and	240
ld	l,a
ld	h,(iy+9)
ld	a,l
or	e
ld	l,a
ld	a,h
or	d
ld	h,a
ld	(iy+8),l
ld	(iy+9),h
jp	cret
l249:
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
ld	hl,549f
push	hl
call	_simpl_err
jp	cret
global	_defineIfNeeded
_defineIfNeeded:
global csv
call csv
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_getSymbol
pop	bc
pop	bc
push	hl
pop	iy
ld	a,l
or	h
jp	z,l253
ld	de,6
ld	a,(iy+8)
and	15
ld	l,a
xor	a
ld	h,a
or	a
sbc	hl,de
jp	nz,cret
l253:
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	e,(ix+10)
ld	d,(ix+11)
ld	l,(ix+12)
ld	h,(ix+13)
push	hl
push	de
ld	hl,(_absSym)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_defineSym
ld	hl,10
add	hl,sp
ld	sp,hl
ld	l,(ix+14)
ld	h,(ix+15)
push	hl
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
call	_addSym
inc	hl
inc	hl
inc	hl
inc	hl
ld	e,(ix+8)
ld	d,(ix+9)
ld	(hl),e
inc	hl
ld	(hl),d
jp	cret
global	_psectRecPass1
_psectRecPass1:
global csv
call csv
push hl
ld	hl,_recbuf
push	hl
call	_readRecData
ld	hl,_recbuf
ex	(sp),hl
call	_conv_letoi16
set	7,h
ld	(ix+-2),l
ld	(ix+-1),h
ex	(sp),hl
ld	hl,_recbuf+2
push	hl
call	_addSym
pop	bc
pop	bc
push	hl
pop	iy
bit	4,(iy+8)
jp	z,cret
bit	4,(ix+-2)
jp	nz,cret
ld	l,(iy+6)
ld	h,(iy+7)
push	hl
ld	hl,559f
push	hl
call	_simpl_err
jp	cret
global	_xpsectRecPass1
global	wrelop
global	lrelop
global	wrelop
_xpsectRecPass1:
call ncsv
defw -10
ld	hl,_recbuf
push	hl
call	_readRecData
ld	hl,-32768
ex	(sp),hl
ld	hl,_recbuf+12
push	hl
call	_addSym
pop	bc
push	hl
pop	iy
ld	hl,_recbuf+12
ld	(ix+-4),l
ld	(ix+-3),h
ex	(sp),hl
call	_strlen
pop	bc
ld	e,l
ld	d,h
inc	de
ld	l,(ix+-4)
ld	h,(ix+-3)
add	hl,de
ld	(ix+-4),l
ld	(ix+-3),h
ld	de,_recbuf
or	a
sbc	hl,de
ld	de,(_length)
call	wrelop
jp	nc,l257
ld	hl,16400
push	hl
ld	l,(ix+-4)
ld	h,(ix+-3)
push	hl
call	_addSym
pop	bc
pop	bc
ld	(ix+-2),l
ld	(ix+-1),h
ld	e,(iy+0)
ld	d,(iy+1)
ld	hl,24
add	hl,de
ld	a,(hl)
inc	hl
or	(hl)
ld	hl,24
jp	nz,L72
add	hl,de
ld	e,(ix+-2)
ld	d,(ix+-1)
ld	(hl),e
inc	hl
ld	(hl),d
jp	l257
L72:
add	hl,de
ld	e,(hl)
inc	hl
ld	d,(hl)
ld	l,(ix+-2)
ld	h,(ix+-1)
or	a
sbc	hl,de
jp	z,l257
ld	e,(iy+0)
ld	d,(iy+1)
ld	hl,24
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	hl,6
add	hl,bc
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
ld	e,(ix+-2)
ld	d,(ix+-1)
ld	hl,6
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
ld	l,(iy+6)
ld	h,(iy+7)
push	hl
ld	hl,569f
push	hl
call	_simpl_err
pop	bc
pop	bc
pop	bc
pop	bc
l257:
ld	hl,_recbuf
push	hl
call	_conv_btou32
ld	(ix+-8),e
ld	(ix+-7),d
ld	(ix+-6),l
ld	(ix+-5),h
ld	hl,_recbuf+4
ex	(sp),hl
call	_conv_letoi16
pop	bc
ld	(ix+-10),l
ld	(ix+-9),h
ld	a,(ix+-8)
or	(ix+-7)
or	(ix+-6)
or	(ix+-5)
jp	z,l261
ld	e,(iy+0)
ld	d,(iy+1)
ld	hl,8
add	hl,de
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
ld	a,e
or	d
or	l
or	h
jp	z,L70
ld	e,(iy+0)
ld	d,(iy+1)
ld	hl,8
add	hl,de
ld	e,(hl)
inc	hl
ld	d,(hl)
inc	hl
ld	a,(hl)
inc	hl
ld	h,(hl)
ld	l,a
push	hl
push	de
ld	e,(ix+-8)
ld	d,(ix+-7)
ld	l,(ix+-6)
ld	h,(ix+-5)
call	lrelop
jp	nc,l261
L70:
ld	e,(ix+-8)
ld	d,(ix+-7)
ld	l,(ix+-6)
ld	h,(ix+-5)
push	hl
push	de
ld	e,(iy+0)
ld	d,(iy+1)
ld	hl,8
add	hl,de
pop	de
ld	(hl),e
inc	hl
ld	(hl),d
inc	hl
pop	bc
ld	(hl),c
inc	hl
ld	(hl),b
ld	l,c
ld	h,b
l261:
ld	a,(ix+-10)
or	(ix+-9)
jp	z,cret
ld	e,(iy+0)
ld	d,(iy+1)
ld	hl,12
add	hl,de
ld	a,(hl)
inc	hl
or	(hl)
ld	hl,12
jp	z,L73
add	hl,de
ld	e,(hl)
inc	hl
ld	d,(hl)
ld	l,(ix+-10)
ld	h,(ix+-9)
call	wrelop
jp	nc,cret
ld	e,(iy+0)
ld	d,(iy+1)
ld	hl,12
L73:
add	hl,de
ld	e,(ix+-10)
ld	d,(ix+-9)
ld	(hl),e
inc	hl
ld	(hl),d
jp	cret
global	_endRecPass1
global	lrelop
global	aslladd
_endRecPass1:
global csv
call csv
ld	hl,_recbuf
push	hl
call	_readRecData
pop	bc
ld	iy,_psectInfo
jp	l269
l266:
ld	e,(iy+22)
ld	d,(iy+23)
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
bit	6,c
ld	e,(iy+18)
ld	d,(iy+19)
ld	l,(iy+20)
ld	h,(iy+21)
push	hl
push	de
jp	z,L74
ld	e,(iy+14)
ld	d,(iy+15)
ld	l,(iy+16)
ld	h,(iy+17)
call	lrelop
jp	nc,l272
ld	e,(iy+18)
ld	d,(iy+19)
ld	l,(iy+20)
ld	h,(iy+21)
ld	(iy+14),e
ld	(iy+15),d
ld	(iy+16),l
ld	(iy+17),h
jp	l272
L74:
push	iy
pop	de
ld	hl,14
add	hl,de
call	aslladd
l272:
ld	(iy+18),0
ld	(iy+19),0
ld	(iy+20),0
ld	(iy+21),0
ld	de,27
add	iy,de
l269:
ld	de,(_nextPsect)
push	iy
pop	hl
or	a
sbc	hl,de
jp	nz,l266
jp	cret
global	_endRecPass2
global	_prFileLinkMap
_endRecPass2:
ld	a,(_key_M)
or	a
call	nz,_prFileLinkMap
jp	_endRecPass1
global	wrelop
global	wrelop
global	llmul
global	lladd
global	aslladd
global	aslladd
global	aslladd
_parseLongVal:
call ncsv
defw -10
ld	l,(ix+6)
ld	h,(ix+7)
ld	c,(hl)
inc	hl
ld	b,(hl)
ld	(ix+-3),c
ld	(ix+-2),b
ld	(ix+-5),c
ld	(ix+-4),b
ld	l,c
ld	h,b
ld	a,(hl)
ld	e,a
rla
sbc	a,a
ld	d,a
ld	hl,__ctype_+1
add	hl,de
ld	a,(hl)
and	68
or	a
jp	nz,l277
L79:
ld	l,1
jp	cret
l277:
ld	l,(ix+-3)
ld	h,(ix+-2)
inc	hl
ld	(ix+-3),l
ld	(ix+-2),h
ld	a,(hl)
ld	e,a
rla
sbc	a,a
ld	d,a
ld	hl,__ctype_+1
add	hl,de
ld	a,(hl)
and	68
or	a
jp	nz,l277
ld	e,(ix+-3)
ld	d,(ix+-2)
inc	de
ld	l,(ix+6)
ld	h,(ix+7)
ld	(hl),e
inc	hl
ld	(hl),d
ld	l,(ix+-3)
ld	h,(ix+-2)
ld	a,(hl)
cp	72
jp	z,l287
cp	79
jp	z,l285
cp	81
jp	z,l285
cp	104
jp	z,l287
cp	111
jp	z,l285
cp	113
jp	nz,l288
l285:
ld	(ix+-6),8
L80:
ld	(ix+-10),0
ld	(ix+-9),0
ld	(ix+-8),0
ld	(ix+-7),0
jp	l293
l287:
ld	(ix+-6),16
jp	L80
l288:
ld	l,(ix+6)
ld	h,(ix+7)
ld	c,(hl)
inc	hl
ld	b,(hl)
dec	bc
ld	(hl),b
dec	hl
ld	(hl),c
ld	l,(ix+-3)
ld	h,(ix+-2)
dec	hl
ld	a,(hl)
ld	(ix+-1),a
cp	68
jp	z,l292
cp	100
jp	nz,l289
l292:
ld	l,(ix+-3)
ld	h,(ix+-2)
dec	hl
ld	(ix+-3),l
ld	(ix+-2),h
l289:
ld	(ix+-6),10
jp	L80
l294:
ld	l,(ix+-5)
ld	h,(ix+-4)
ld	l,(hl)
ld	(ix+-1),l
ld	a,(ix+-6)
cp	8
jp	nz,l296
ld	a,l
ld	e,a
rla
sbc	a,a
ld	d,a
ld	hl,55
call	wrelop
jp	m,L79
l296:
ld	a,(ix+-6)
cp	10
ld	a,(ix+-1)
jp	nz,L75
ld	e,a
rla
sbc	a,a
ld	d,a
ld	hl,57
call	wrelop
jp	m,L79
ld	a,(ix+-1)
L75:
ld	hl,0
ld	d,l
ld	e,a
push	hl
push	de
ld	e,(ix+-10)
ld	d,(ix+-9)
ld	l,(ix+-8)
ld	h,(ix+-7)
push	hl
push	de
ld	a,(ix+-6)
ld	hl,0
ld	d,l
ld	e,a
call	llmul
call	lladd
ld	(ix+-10),e
ld	(ix+-9),d
ld	(ix+-8),l
ld	(ix+-7),h
ld	a,(ix+-1)
ld	e,a
rla
sbc	a,a
ld	d,a
ld	hl,__ctype_+1
add	hl,de
bit	2,(hl)
jp	z,l298
ld	de,-48
L78:
ld	hl,-1
push	hl
push	de
push	ix
pop	de
ld	hl,-10
add	hl,de
call	aslladd
jp	l299
l298:
ld	a,(ix+-1)
ld	e,a
rla
sbc	a,a
ld	d,a
ld	hl,__ctype_+1
add	hl,de
bit	1,(hl)
jp	z,l300
ld	de,-87
jp	L78
l300:
ld	de,-55
ld	hl,-1
push	hl
push	de
push	ix
pop	de
ld	hl,-10
add	hl,de
call	aslladd
l299:
ld	l,(ix+-5)
ld	h,(ix+-4)
inc	hl
ld	(ix+-5),l
ld	(ix+-4),h
l293:
ld	e,(ix+-3)
ld	d,(ix+-2)
ld	l,(ix+-5)
ld	h,(ix+-4)
or	a
sbc	hl,de
jp	nz,l294
ld	e,(ix+-10)
ld	d,(ix+-9)
ld	l,(ix+-8)
ld	h,(ix+-7)
push	hl
push	de
ld	l,(ix+8)
ld	h,(ix+9)
pop	de
ld	(hl),e
inc	hl
ld	(hl),d
inc	hl
pop	bc
ld	(hl),c
inc	hl
ld	(hl),b
ld	h,b
ld	l,0
jp	cret
global	_setPsectOrigin
global	_linkAddress
global	aslladd
global	aslland
global	_loadAddress
global	aslladd
global	aslland
global	aslladd
global	aslladd
global	_maxLinkAddress
global	lladd
global	lrelop
global	lladd
_setPsectOrigin:
global csv
call csv
ld	l,(ix+6)
ld	h,(ix+7)
push	hl
pop	iy
ld	a,(iy+26)
or	a
ld	e,(iy+22)
ld	d,(iy+23)
jp	z,L81
ld	hl,6
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
push	bc
ld	hl,579f
push	hl
call	_fatal_err
pop	bc
pop	bc
ld	e,(iy+22)
ld	d,(iy+23)
L81:
ld	hl,8
add	hl,de
ld	c,(hl)
inc	hl
ld	b,(hl)
bit	4,c
jp	nz,l304
ld	a,(iy+12)
or	(iy+13)
jp	z,l305
ld	e,(iy+12)
ld	d,(iy+13)
ld	hl,-1
add	hl,de
ex	de,hl
ld	hl,0
push	hl
push	de
ld	hl,_linkAddress
call	aslladd
ld	e,(iy+12)
ld	d,(iy+13)
ld	hl,0
ex	de,hl
ld	bc,-1
add	hl,bc
ex	de,hl
adc	hl,bc
push	hl
push	de
ld	l,c
ld	h,b
pop	bc
or	a
sbc	hl,bc
pop	bc
ex	de,hl
ld	hl,-1
sbc	hl,bc
push	hl
push	de
ld	hl,_linkAddress
call	aslland
ld	e,(iy+12)
ld	d,(iy+13)
ld	hl,-1
add	hl,de
ex	de,hl
ld	hl,0
push	hl
push	de
ld	hl,_loadAddress
call	aslladd
ld	e,(iy+12)
ld	d,(iy+13)
ld	hl,0
ex	de,hl
ld	bc,-1
add	hl,bc
ex	de,hl
adc	hl,bc
push	hl
push	de
ld	l,c
ld	h,b
pop	bc
or	a
sbc	hl,bc
pop	bc
ex	de,hl
ld	hl,-1
sbc	hl,bc
push	hl
push	de
ld	hl,_loadAddress
call	aslland
l305:
ld	de,(_linkAddress)
ld	hl,(_linkAddress+2)
ld	(iy+0),e
ld	(iy+1),d
ld	(iy+2),l
ld	(iy+3),h
ld	de,(_loadAddress)
ld	hl,(_loadAddress+2)
ld	(iy+4),e
ld	(iy+5),d
ld	(iy+6),l
ld	(iy+7),h
ld	e,(iy+14)
ld	d,(iy+15)
ld	l,(iy+16)
ld	h,(iy+17)
push	hl
push	de
ld	hl,_linkAddress
call	aslladd
ld	e,(iy+14)
ld	d,(iy+15)
ld	l,(iy+16)
ld	h,(iy+17)
push	hl
push	de
ld	hl,_loadAddress
call	aslladd
l304:
ld	e,(iy+14)
ld	d,(iy+15)
ld	l,(iy+16)
ld	h,(iy+17)
push	hl
push	de
ld	e,(iy+0)
ld	d,(iy+1)
ld	l,(iy+2)
ld	h,(iy+3)
call	lladd
push	hl
push	de
ld	de,(_maxLinkAddress)
ld	hl,(_maxLinkAddress+2)
call	lrelop
jp	nc,l306
ld	e,(iy+14)
ld	d,(iy+15)
ld	l,(iy+16)
ld	h,(iy+17)
push	hl
push	de
ld	e,(iy+0)
ld	d,(iy+1)
ld	l,(iy+2)
ld	h,(iy+3)
call	lladd
ld	(_maxLinkAddress),de
ld	(_maxLinkAddress+2),hl
l306:
ld	(iy+26),1
jp	cret
psect	data
19:
defb	117,110,101,120,112,101,99,116,101,100,32,101,110,100,32,111
defb	102,32,102,105,108,101,0
29:
defb	108,105,110,107,0
39:
defb	0
49:
defb	73,108,108,101,103,97,108,32,45,111,32,102,108,97,103,0
59:
defb	0
69:
defb	73,108,108,101,103,97,108,32,45,112,32,102,108,97,103,0
79:
defb	0
89:
defb	68,117,112,108,105,99,97,116,101,32,45,109,32,102,108,97
defb	103,0
99:
defb	0
109:
defb	77,105,115,115,105,110,103,32,97,114,103,32,116,111,32,45
defb	117,0
119:
defb	68,117,112,108,105,99,97,116,101,32,45,100,32,102,108,97
defb	103,0
129:
defb	108,46,115,121,109,0
139:
defb	0
149:
defb	0
159:
defb	77,105,115,115,105,110,103,32,97,114,103,32,116,111,32,45
defb	119,0
169:
defb	73,108,108,101,103,97,108,32,102,108,97,103,32,37,99,10
defb	37,115,0
179:
defb	45,99,32,105,108,108,101,103,97,108,32,119,105,116,104,32
defb	45,114,32,111,114,32,45,108,0
189:
defb	108,46,98,105,110,0
199:
defb	108,46,111,98,106,0
209:
defb	119,98,0
219:
defb	37,115,58,32,67,97,110,39,116,32,99,114,101,97,116,101
defb	0
229:
defb	119,0
239:
defb	37,115,58,32,67,97,110,39,116,32,99,114,101,97,116,101
defb	0
249:
defb	119,0
259:
defb	37,115,58,32,67,97,110,39,116,32,99,114,101,97,116,101
defb	0
269:
defb	0
279:
defb	114,98,0
289:
defb	37,115,58,32,67,97,110,39,116,32,111,112,101,110,0
299:
defb	46,108,105,98,0
309:
defb	46,76,73,66,0
319:
defb	37,115,58,32,0
329:
defb	37,115,58,32,0
339:
defb	37,100,58,32,0
349:
defb	32,40,119,97,114,110,105,110,103,41,10,0
359:
defb	98,97,100,32,111,98,106,101,99,116,32,99,111,100,101,32
defb	102,111,114,109,97,116,0
369:
defb	67,97,110,110,111,116,32,103,101,116,32,109,101,109,111,114
defb	121,0
379:
defb	114,101,108,111,99,97,116,105,111,110,32,111,102,102,115,101
defb	116,32,37,100,32,111,117,116,32,111,102,32,114,97,110,103
defb	101,32,48,46,46,37,100,45,37,100,45,49,0
389:
defb	105,108,108,101,103,97,108,32,114,101,108,111,99,97,116,105
defb	111,110,32,116,121,112,101,58,32,37,48,50,120,0
399:
defb	105,108,108,101,103,97,108,32,114,101,108,111,99,97,116,105
defb	111,110,32,116,121,112,101,58,32,37,48,50,120,0
409:
defb	105,108,108,101,103,97,108,32,114,101,108,111,99,97,116,105
defb	111,110,32,115,105,122,101,58,32,37,48,50,120,0
419:
defb	70,105,120,117,112,32,111,118,101,114,102,108,111,119,32,114
defb	101,102,101,114,101,110,99,105,110,103,32,37,115,32,37,115
defb	0
429:
defb	115,121,109,98,111,108,0
439:
defb	112,115,101,99,116,0
449:
defb	84,111,111,32,109,97,110,121,32,115,121,109,98,111,108,115
defb	0
459:
defb	84,111,111,32,109,97,110,121,32,112,115,101,99,116,115,0
469:
defb	37,52,46,52,108,120,32,37,115,10,0
479:
defb	37,115,32,114,101,103,32,37,108,120,10,0
489:
defb	37,115,10,0
499:
defb	37,115,32,115,116,107,32,37,108,100,10,0
509:
defb	37,115,32,37,108,120,0
519:
defb	32,37,108,120,0
529:
defb	115,121,109,98,111,108,32,37,115,32,99,97,110,110,111,116
defb	32,98,101,32,103,108,111,98,97,108,0
539:
defb	99,111,109,109,111,110,32,115,121,109,98,111,108,32,99,111
defb	110,102,108,105,99,116,58,32,37,115,0
549:
defb	109,117,108,116,105,112,108,121,32,100,101,102,105,110,101,100
defb	32,115,121,109,98,111,108,58,32,37,115,0
559:
defb	108,111,99,97,108,32,112,115,101,99,116,32,39,37,115,39
defb	32,99,111,110,102,108,105,99,116,115,32,119,105,116,104,32
defb	103,108,111,98,97,108,32,112,115,101,99,116,32,111,102,32
defb	115,97,109,101,32,110,97,109,101,0
569:
defb	112,115,101,99,116,32,37,115,32,99,97,110,110,111,116,32
defb	98,101,32,105,110,32,99,108,97,115,115,101,115,32,37,115
defb	32,97,110,100,32,37,115,0
579:
defb	112,115,101,99,116,32,39,37,115,39,32,114,101,45,111,114
defb	103,101,100,0
psect	text
,115,0
559:
defb	108,111,99,97,108,32,112,115,101,